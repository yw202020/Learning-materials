--插入更多参加信息
Insert into Score Values('201531060544','5607602035',83.5 ,6,'2017-6-30');
Insert into Score Values('201531060545','5607602035',71.1 ,6,'2017-6-30');
Insert into Score Values('201531060546','5607602035',74.4 ,6,'2017-6-30');
Insert into Score Values('201531060547','5607602035',84.1 ,6,'2017-6-30');
Insert into Score Values('201531060548','5607602035',53 ,6,'2017-6-30');
Insert into Score Values('201531060549','5607602035',61.2 ,6,'2017-6-30');
Insert into Score Values('201531060550','5607602035',65.2 ,6,'2017-6-30');
Insert into Score Values('201531060551','5607602035',52.5 ,6,'2017-6-30');
Insert into Score Values('201531060552','5607602035',91.8 ,6,'2017-6-30');
Insert into Score Values('201531060553','5607602035',64 ,6,'2017-6-30');
Insert into Score Values('201531060554','5607602035',85.3 ,6,'2017-6-30');
Insert into Score Values('201531060555','5607602035',76.5 ,6,'2017-6-30');
Insert into Score Values('201531060556','5607602035',75.9 ,6,'2017-6-30');
Insert into Score Values('201531060557','5607602035',78.3 ,6,'2017-6-30');
Insert into Score Values('201531060559','5607602035',65.6 ,6,'2017-6-30');
Insert into Score Values('201531060560','5607602035',87.1 ,6,'2017-6-30');
Insert into Score Values('201531060561','5607602035',58.7 ,6,'2017-6-30');
Insert into Score Values('201531060562','5607602035',55.8 ,6,'2017-6-30');
Insert into Score Values('201531060563','5607602035',62.9 ,6,'2017-6-30');
Insert into Score Values('201531060564','5607602035',98.9 ,6,'2017-6-30');
Insert into Score Values('201531060565','5607602035',97.8 ,6,'2017-6-30');
Insert into Score Values('201531060566','5607602035',71.1 ,6,'2017-6-30');
Insert into Score Values('201531060567','5607602035',96.9 ,6,'2017-6-30');
Insert into Score Values('201531060568','5607602035',54.8 ,6,'2017-6-30');
Insert into Score Values('201531060569','5607602035',69.7 ,6,'2017-6-30');
Insert into Score Values('201531060570','5607602035',57.6 ,6,'2017-6-30');
Insert into Score Values('201531060571','5607602035',50.9 ,6,'2017-6-30');
Insert into Score Values('201531060572','5607602035',70.2 ,6,'2017-6-30');
Insert into Score Values('201531060573','5607602035',98.7 ,6,'2017-6-30');
Insert into Score Values('201531060574','5607602035',79.2 ,6,'2017-6-30');
Insert into Score Values('201531060575','5607602035',92.1 ,6,'2017-6-30');
Insert into Score Values('201531060576','5607602035',80.3 ,6,'2017-6-30');
Insert into Score Values('201531060577','5607602035',72.6 ,6,'2017-6-30');
Insert into Score Values('201531060578','5607602035',80 ,6,'2017-6-30');
Insert into Score Values('201531060579','5607602035',57.8 ,6,'2017-6-30');
Insert into Score Values('201531060580','5607602035',57.4 ,6,'2017-6-30');
Insert into Score Values('201531060581','5607602035',79.6 ,6,'2017-6-30');
Insert into Score Values('201531060582','5607602035',94.9 ,6,'2017-6-30');
Insert into Score Values('201531060583','5607602035',54.4 ,6,'2017-6-30');
Insert into Score Values('201531060584','5607602035',86.4 ,6,'2017-6-30');
Insert into Score Values('201531060585','5607602035',90.2 ,6,'2017-6-30');
Insert into Score Values('201531060586','5607602035',81.7 ,6,'2017-6-30');
Insert into Score Values('201531060587','5607602035',50.7 ,6,'2017-6-30');
Insert into Score Values('201531060588','5607602035',62.4 ,6,'2017-6-30');
Insert into Score Values('201531060589','5607602035',59.2 ,6,'2017-6-30');
Insert into Score Values('201531060590','5607602035',94.9 ,6,'2017-6-30');
Insert into Score Values('201531060591','5607602035',92.4 ,6,'2017-6-30');
Insert into Score Values('201531060592','5607602035',56.6 ,6,'2017-6-30');
Insert into Score Values('201531060593','5607602035',70.7 ,6,'2017-6-30');
Insert into Score Values('201531060594','5607602035',97.4 ,6,'2017-6-30');
Insert into Score Values('201531060595','5607602035',96.9 ,6,'2017-6-30');
Insert into Score Values('201531060596','5607602035',87.5 ,6,'2017-6-30');
Insert into Score Values('201531060597','5607602035',63.3 ,6,'2017-6-30');
Insert into Score Values('201531060598','5607602035',87.1 ,6,'2017-6-30');
Insert into Score Values('201531060599','5607602035',87.3 ,6,'2017-6-30');
Insert into Score Values('201531060600','5607602035',94.6 ,6,'2017-6-30');
Insert into Score Values('201531060601','5607602035',76.1 ,6,'2017-6-30');
Insert into Score Values('201531060602','5607602035',82.1 ,6,'2017-6-30');
Insert into Score Values('201531060603','5607602035',50.4 ,6,'2017-6-30');
Insert into Score Values('201531060604','5607602035',79.9 ,6,'2017-6-30');
Insert into Score Values('201531060605','5607602035',62 ,6,'2017-6-30');
Insert into Score Values('201531060606','5607602035',95.5 ,6,'2017-6-30');
Insert into Score Values('201531060607','5607602035',93 ,6,'2017-6-30');
Insert into Score Values('201531060608','5607602035',81.2 ,6,'2017-6-30');
Insert into Score Values('201531060609','5607602035',94.3 ,6,'2017-6-30');
Insert into Score Values('201531060610','5607602035',74 ,6,'2017-6-30');
Insert into Score Values('201531060611','5607602035',85.3 ,6,'2017-6-30');
Insert into Score Values('201531060612','5607602035',57.7 ,6,'2017-6-30');
Insert into Score Values('201531060613','5607602035',67.4 ,6,'2017-6-30');
Insert into Score Values('201531060614','5607602035',92.3 ,6,'2017-6-30');
Insert into Score Values('201531060615','5607602035',67.6 ,6,'2017-6-30');
Insert into Score Values('201531060616','5607602035',79.3 ,6,'2017-6-30');
Insert into Score Values('201531060617','5607602035',88.5 ,6,'2017-6-30');
Insert into Score Values('201531060618','5607602035',54 ,6,'2017-6-30');
Insert into Score Values('201531060619','5607602035',53.4 ,6,'2017-6-30');
Insert into Score Values('201531060620','5607602035',51.6 ,6,'2017-6-30');
Insert into Score Values('201531060621','5607602035',60.1 ,6,'2017-6-30');
Insert into Score Values('201531060622','5607602035',95.9 ,6,'2017-6-30');
Insert into Score Values('201531060623','5607602035',73.1 ,6,'2017-6-30');
Insert into Score Values('201531060624','5607602035',69.9 ,6,'2017-6-30');
Insert into Score Values('201531060625','5607602035',83.6 ,6,'2017-6-30');
Insert into Score Values('201531060626','5607602035',51.3 ,6,'2017-6-30');
Insert into Score Values('201531060627','5607602035',85 ,6,'2017-6-30');
Insert into Score Values('201531060628','5607602035',52.3 ,6,'2017-6-30');
Insert into Score Values('201531060629','5607602035',99.2 ,6,'2017-6-30');
Insert into Score Values('201531060630','5607602035',76.3 ,6,'2017-6-30');
Insert into Score Values('201531060631','5607602035',62.5 ,6,'2017-6-30');
Insert into Score Values('201531060632','5607602035',67 ,6,'2017-6-30');
Insert into Score Values('201531060633','5607602035',70.5 ,6,'2017-6-30');
Insert into Score Values('201531060634','5607602035',87.7 ,6,'2017-6-30');
Insert into Score Values('201531060635','5607602035',51.1 ,6,'2017-6-30');
Insert into Score Values('201531060636','5607602035',92.5 ,6,'2017-6-30');
Insert into Score Values('201531060637','5607602035',86 ,6,'2017-6-30');
Insert into Score Values('201531060638','5607602035',99.4 ,6,'2017-6-30');
Insert into Score Values('201531060639','5607602035',89.7 ,6,'2017-6-30');
Insert into Score Values('201531060640','5607602035',60.8 ,6,'2017-6-30');
Insert into Score Values('201531060641','5607602035',61.9 ,6,'2017-6-30');
Insert into Score Values('201531060642','5607602035',73.7 ,6,'2017-6-30');
Insert into Score Values('201531060643','5607602035',89.1 ,6,'2017-6-30');
Insert into Score Values('201531060644','5607602035',67.6 ,6,'2017-6-30');
Insert into Score Values('201531060645','5607602035',66 ,6,'2017-6-30');
Insert into Score Values('201531060646','5607602035',89.9 ,6,'2017-6-30');
Insert into Score Values('201531060647','5607602035',93.4 ,6,'2017-6-30');
Insert into Score Values('201531060648','5607602035',94.3 ,6,'2017-6-30');
Insert into Score Values('201531060649','5607602035',53.1 ,6,'2017-6-30');
Insert into Score Values('201531060650','5607602035',52.1 ,6,'2017-6-30');
Insert into Score Values('201531060651','5607602035',81.9 ,6,'2017-6-30');
Insert into Score Values('201531060652','5607602035',86.3 ,6,'2017-6-30');
Insert into Score Values('201531060653','5607602035',82 ,6,'2017-6-30');
Insert into Score Values('201531060654','5607602035',83.9 ,6,'2017-6-30');
Insert into Score Values('201531060655','5607602035',68.3 ,6,'2017-6-30');
Insert into Score Values('201531060656','5607602035',84.2 ,6,'2017-6-30');
Insert into Score Values('201531060657','5607602035',79.8 ,6,'2017-6-30');
Insert into Score Values('201531060658','5607602035',82.9 ,6,'2017-6-30');
Insert into Score Values('201531060659','5607602035',67.5 ,6,'2017-6-30');
Insert into Score Values('201531060660','5607602035',51.1 ,6,'2017-6-30');
Insert into Score Values('201531060661','5607602035',82.1 ,6,'2017-6-30');
Insert into Score Values('201531060662','5607602035',50.1 ,6,'2017-6-30');
Insert into Score Values('201531060663','5607602035',51.8 ,6,'2017-6-30');
Insert into Score Values('201531060664','5607602035',64.3 ,6,'2017-6-30');
Insert into Score Values('201531060665','5607602035',97.6 ,6,'2017-6-30');
Insert into Score Values('201531060666','5607602035',97.4 ,6,'2017-6-30');
Insert into Score Values('201531060667','5607602035',75.3 ,6,'2017-6-30');
Insert into Score Values('201531060668','5607602035',69.5 ,6,'2017-6-30');
Insert into Score Values('201531060669','5607602035',50.7 ,6,'2017-6-30');


--1、查询学生表有多少行记录。
Select COUNT(*) From Student;

--2、查询是共青团员的女学生。
Select * From Student Where cPolicitalStatus = '共青团员' and cSex='女';

--3、查询出生日期不为空的学生信息。
Select * From Student Where dBirth is Not NULL;

--4、查询政治面貌和出生日期都不为空的学生。
Select * From Student Where dBirth is Not NULL and cPolicitalStatus is Not NULL;

--5、查询姓名中第二个汉字和第三个汉字相同的学生。
Select * From Student Where Substring(vName,2,1) = Substring(vName,3,1);

--6、查询与201531060645同一天生日的所有人。
Select * From Student Where dBirth = (
	Select dBirth From Student Where cNo='201531060645'
);

--7、检索显示学生表的所有行，但是要求院系和专业，不能显示编号，要用对应汉字。
--提示：多表连接操作。
--where实现
Select cNo,Student.vName,cSex,dBirth,vNation,cPolicitalStatus,Depart.vName,Major.vName,iGrade,cDormNo,cPhone
 From Student,Depart,Major
 Where Student.cDepartNo = Depart.cDepartNo and Student.cMajorNo = Major.cMajorNo;
 --inner实现 
Select cNo,Student.vName,cSex,dBirth,vNation,cPolicitalStatus,Depart.vName,Major.vName,iGrade,cDormNo,cPhone
From Student 
Inner Join Depart on Student.cDepartNo = Depart.cDepartNo
Inner Join Major on Student.cMajorNo = Major.cMajorNo;

--8、使用第7步的语句，创建一个vwStu的视图。
Go
Create View vwStu AS
Select cNo,Student.vName as '姓名',cSex,dBirth,vNation,cPolicitalStatus,
Depart.vName as '院系',Major.vName as '专业',iGrade,cDormNo,cPhone
From Student 
Inner Join Depart on Student.cDepartNo = Depart.cDepartNo
Inner Join Major on Student.cMajorNo = Major.cMajorNo;
Go
--9、创建一个存储过程，根据用户传递的一个学号，返回该学生的基本信息。
--要求使用vwStu视图。
Drop proc prcStuInfo;
GO
Create proc prcStuInfo @cNo char(12)
as 
select * From vwStu Where cNo = @cNO;
GO
declare @testcNo char(12)
set @testcNo = '201531060570'
exec prcStuInfo @testcNo

--10、查询姓名大于等于四个汉字的学生信息。
Select * From Student Where LEN(vName)>=4;

--11、根据院系编号，进行数据分组，统一每一个专业的学生人数。
Select cDepartNo,cMajorNo,COUNT(*) as '人数' From Student group by cDepartNo,cMajorNo;

--12、根据11步，自己指定一个数据，即专业人数必须大于某个值的数据才显示。
Select cDepartNo,cMajorNo,COUNT(*) as '人数' From Student group by cDepartNo,cMajorNo having COUNT(*) > 100;

--13、用select * from score了解分数表的信息。
select * from score;

--14、用给一个查询得到学号，姓名，课程号，分数四项。
Select Student.cNo,Student.vName,Score.cCourseNo,Score.nScore
From Student,Score
Where Student.cNo = Score.cNo;

--15、查询不及格的学生，显示学号，姓名，分数，按照分数的降序显示。
Select Student.cNo,Student.vName,Score.nScore
From Student,Score
Where Student.cNo = Score.cNo and Score.nScore < 60 order by Score.nScore DESC;

--16、修改score表的结构，增加主关键字。
Alter Table Score Add Constraint PK_Score Primary Key (cNo,cCourseNo);

--17、往学生表增加一行记录，每一个数据够提供，自己给定一些值。
Insert into Student values('201531060999','叫啥','男','2015-12-25','汉族','党员','06','080905',99,'615','18086923658');

--18、往学生表增加一行记录，只提供学号，姓名，性别，出生日期。
Insert into Student(cNo,vName,cSex,dBirth) values('201531060990','叫啥2','男','2015-12-25');

--19、修改201531060645的政治面貌为“共产党员”。
Update Student set cPolicitalStatus = '共产党员' Where cNo = '201531060645';

--20、删除student表中，学号最后两位为06的学生。如果不能删除，应该怎么办。
--先删除关联表的数据,再删除student表中的数据
delete From Score Where Right(cNo,2)= '06';
delete From Student Where Right(cNo,2)= '06';
--修改表结构,级联删除
